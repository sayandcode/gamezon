"use strict";(self.webpackChunkgamezon=self.webpackChunkgamezon||[]).push([[802],{4802:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var i=t(6739),r=t(7723),a=t(5289),l=t(5661),o=t(3400),s=t(9157),d=t(3767),u=t(7123),c=t(4518),h=t(5705),p=t(1724),m=t(2791),f=t(1413),v=t(885),b=t(5987),y=t(184),g=["helperText"],C=["onChange"];function x(e){return e instanceof Object&&!(e instanceof Array)}var Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.onChangeGivesValue,i=void 0!==t&&t;return function(n){var t=n.helperText,r=(0,b.Z)(n,g),a=(0,h.U$)(r),l=(0,v.Z)(a,2),o=l[0],s=o.onChange,d=(0,b.Z)(o,C),u=l[1],c=i?function(e){var n={target:{id:r.id,name:r.name,value:e}};s(n)}:s,p=u.touched&&u.error,m=x(p)?Object.values(p).join("\n"):p,Z=m||t;return(0,y.jsx)(e,(0,f.Z)((0,f.Z)((0,f.Z)({onChange:c},r),d),{},{error:!!m,helperText:Z}))}},j=t(2054),N=t(6127);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.benefactor,t=void 0===n||n,i=(0,p.Z_)().required("Every Option Should have a label"),r=(0,p.Z_)();return t&&(r=r.required("This field needs an isoCode for its dependants")),{label:i,isoCode:r}}function P(e){return w(N.State.getStatesOfCountry(null===e||void 0===e?void 0:e.isoCode))}function q(e,n){return w(N.City.getCitiesOfState(null===e||void 0===e?void 0:e.isoCode,null===n||void 0===n?void 0:n.isoCode))}function w(e){return e.map((function(e){return{label:e.name,isoCode:e.isoCode}}))}var z=t(4868);function L(e){var n=e.value,t=e.onChange,i=e.onBlur,a=e.onFocus,l=e.id,o=e.name,s=e.label,d=e.required,u=e.error,c=e.helperText,h=e.placeholder,p=e.options,m=e.disabled,v=e.fullWidth,b=e.size;return(0,y.jsx)(z.Z,{autoComplete:!0,autoHighlight:!0,value:n,onChange:function(e,n){return t(n)},onFocus:a,onBlur:i,id:l,name:o,options:p,size:b,fullWidth:v,disabled:m,renderInput:function(e){return(0,y.jsx)(r.Z,(0,f.Z)((0,f.Z)({},e),{},{required:d,label:s,error:u,helperText:c,placeholder:h,InputLabelProps:{shrink:!0,variant:"standard"}}))},isOptionEqualToValue:W})}function W(e,n){return e.label===n.label}L.defaultProps={value:void 0,onChange:function(){},onBlur:function(){},onFocus:function(){},id:void 0,name:void 0,label:void 0,required:!1,error:!1,helperText:"",placeholder:"",disabled:!1,fullWidth:!1,size:"medium"};var k=L,O=t(7411),T=t(2982),F=t(3347);(0,p.kM)(p.Ry,"isFromOptionsProvidedBy",(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.errorMessage,r=void 0===i?"That is not a valid ${path}":i,a=t.required;return(0,p.Ry)().test({name:"isValidOption",test:function(t){var i=this.path,l=this.parent,o=this.createError,s=e.map((function(e){return l[e]})),d=n.apply(void 0,(0,T.Z)(s)),u=0===d.length,c=!0===a?"${path} cannot be empty":a;return!(!u||t)||(!t&&c?o({path:i,message:c}):d.find((function(e){return W(e,t)}))||o({path:i,message:r}))}}).nullable()})),(0,p.kM)(p.Z_,"isPossiblePhoneNumber",(function(e){return this.test("is-a-phone-number",(function(n){if(!n)return!0;var t=this.path,i=this.createError;return(0,F.tm)(n)||i({path:t,message:e})}))}));var _=t(3761),B=Z(r.Z),V=Z(k,{onChangeGivesValue:!0}),A=Z(j.Z,{onChangeGivesValue:!0}),E={firstName:"",lastName:"",addressLine1:"",addressLine2:"",country:null,state:null,city:null,phoneNumber:""},R=(0,p.Ry)({firstName:(0,p.Z_)().required("Can't be empty"),lastName:(0,p.Z_)().required("Can't be empty"),addressLine1:(0,p.Z_)().required("Where will we deliver?"),addressLine2:(0,p.Z_)(),country:(0,p.Ry)(S()).nullable().required("Country can't be empty"),state:(0,p.Ry)().isFromOptionsProvidedBy(["country"],P,{required:"State cannot be empty"}).shape(S()),city:(0,p.Ry)().isFromOptionsProvidedBy(["country","state"],q,{required:"City cannot be empty"}).shape(S({benefactor:!1})),phoneNumber:(0,p.Z_)().isPossiblePhoneNumber("Enter a valid phone number").required("How will we call you?")}),M="Dwight",G="Schrute",$="Dunder Mifflin Scranton, Scranton Business Park",D="1725 Slough Avenue, Scranton",H="United States",I="Pennsylvania",U="Scranton",J="+1 570 343 3400";function K(e){var n=e.open,t=e.onClose,r=e.edit,p=(0,m.useContext)(O.S).addressList,f=(null===r||void 0===r?void 0:r.content)||E,v=r?"Edit address":"Add new address";return(0,y.jsx)(a.Z,{open:n,onClose:t,PaperProps:{sx:{p:1,bgcolor:"grey.200",position:"relative"}},children:(0,y.jsx)(h.J9,{initialValues:f,validationSchema:R,onSubmit:function(e){var n=new _.Z(e);r?p.edit(r,n):p.add(n),t()},children:function(e){var n=e.values,r=e.setFieldValue,a=n.country,p=n.state,m=n.city,f=w(N.Country.getAllCountries()),b=P(a),g=q(a,p);return null!==p&&0===b.length&&r("state",null),null!==m&&0===g.length&&r("city",null),(0,y.jsxs)(h.l0,{children:[(0,y.jsx)(l.Z,{children:v}),(0,y.jsx)(o.Z,{sx:{position:"absolute",top:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},onClick:t,children:(0,y.jsx)(i.Z,{})}),(0,y.jsxs)(s.Z,{children:[(0,y.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,y.jsx)(B,{label:"First Name",id:"firstName",name:"firstName",size:"small",fullWidth:!0,placeholder:M}),(0,y.jsx)(B,{label:"Last Name",id:"lastName",name:"lastName",placeholder:G,fullWidth:!0,size:"small"})]}),(0,y.jsx)(B,{label:"Address Line 1",id:"addressLine1",name:"addressLine1",placeholder:$,size:"small",fullWidth:!0}),(0,y.jsx)(B,{label:"Address Line 2",id:"addressLine2",name:"addressLine2",placeholder:D,size:"small",fullWidth:!0}),(0,y.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,y.jsx)(V,{id:"country",name:"country",placeholder:H,label:"Country",options:f,fullWidth:!0,size:"small"}),(0,y.jsx)(V,{id:"state",name:"state",placeholder:I,label:"State",disabled:!a||0===b.length,options:b,size:"small",fullWidth:!0})]}),(0,y.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,y.jsx)(V,{id:"city",name:"city",placeholder:U,label:"City",disabled:!p,options:g,size:"small",fullWidth:!0}),(0,y.jsx)(A,{id:"phoneNumber",name:"phoneNumber",placeholder:J,label:"Phone Number",size:"small",fullWidth:!0})]})]}),(0,y.jsxs)(u.Z,{children:[(0,y.jsx)(c.Z,{variant:"contained",type:"submit",children:"Submit"}),(0,y.jsx)(c.Z,{variant:"outlined",onClick:t,children:"Cancel"})]})]})}})})}K.defaultProps={open:!1,onClose:function(){},edit:void 0};var Q=K}}]);
//# sourceMappingURL=802.e28090f2.chunk.js.map